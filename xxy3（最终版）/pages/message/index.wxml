<!-- message/index.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="action-bar">
    <text class="action-title">æ¶ˆæ¯</text>
    <view class="clear-btn" bindtap="clearMessages">
      <text>æ¸…ç©º</text>
    </view>
  </view>

  <!-- æ¶ˆæ¯åˆ—è¡¨ -->
  <view class="message-list">
    <block wx:for="{{messageList}}" wx:key="id">
      <view class="message-item" bindtap="viewMessageDetail" data-id="{{item.id}}">
        <view class="message-icon">
          <text wx:if="{{!item.read}}">ğŸ“¬</text>
          <text wx:else>ğŸ“¨</text>
        </view>
        <view class="message-content">
          <view class="message-title">
            <text class="title-text">{{item.title}}</text>
            <view class="unread-badge" wx:if="{{!item.read}}"></view>
          </view>
          <view class="message-desc">{{item.content}}</view>
          <view class="message-time">{{item.time}}</view>
        </view>
        <view class="message-arrow">â€º</view>
      </view>
    </block>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{messageList.length === 0}}">
      <text class="empty-icon">ğŸ“­</text>
      <text class="empty-text">æš‚æ— æ¶ˆæ¯</text>
    </view>
  </view>
</view>

